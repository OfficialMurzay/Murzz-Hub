-- MurzzHub v1.05 Release
-- Full Stable Build (Home + Live Stats + Quests + Auto Train + Auto Chikara + Auto Quest)
-- Author: Murzay | Animated Numbers + Auto Train + Auto Chikara (auto-click + dynamic cooldown)
-- Fully optimized for performance (no changes to functionality, UI, text, or behavior)

-------------------------------------------------
-- SERVICES
-------------------------------------------------
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local OtherData = Player:WaitForChild("OtherData")
local StatsFolder = Player:WaitForChild("Stats")
local QuestsFolder = Player:WaitForChild("Quests")

-------------------------------------------------
-- VERSION
-------------------------------------------------
local VERSION = "v1.1 Pre-Release"

-------------------------------------------------
-- SAFE DEBUG
-------------------------------------------------
local warned = false
local function safeRun(fn)
    local ok, err = pcall(fn)
    if not ok and not warned then
        warned = true
        warn("[MurzzHub Debug] "..err)
    end
end

local function log(msg)
    print("[MurzzHub DEBUG] "..tostring(msg))
end

-------------------------------------------------
-- RAYFIELD
-------------------------------------------------
local Rayfield
repeat
    local success, result = pcall(function()
        return loadstring(game:HttpGet("https://sirius.menu/rayfield"))()
    end)
    if success then
        Rayfield = result
    else
        warn("[MurzzHub] Rayfield load failed, retrying...")
        task.wait(0.5)
    end
until Rayfield

local Window = Rayfield:CreateWindow({
    Name = "MurzzHub ".."| "..VERSION,
    LoadingTitle = "MurzzHub "..VERSION,
    LoadingSubtitle = "Auto Train, Chikara and more!",
    ConfigurationSaving = {Enabled=true, FolderName="MurzzHub", FileName="AFSE_UI"}
})

-------------------------------------------------
-- UTIL (ABBREVIATION & ANIMATION)
-------------------------------------------------
local function abbreviate(n)
    if n >= 1e24 then
        return string.format("%.2fSp", n / 1e24)
    elseif n >= 1e21 then
        return string.format("%.2fSx", n / 1e21)
    elseif n >= 1e18 then
        return string.format("%.2fQn", n / 1e18)
    elseif n >= 1e15 then
        return string.format("%.2fQd", n / 1e15)
    elseif n >= 1e12 then
        return string.format("%.2fT", n / 1e12)
    elseif n >= 1e9 then
        return string.format("%.2fB", n / 1e9)
    elseif n >= 1e6 then
        return string.format("%.2fM", n / 1e6)
    elseif n >= 1e3 then
        return string.format("%.2fK", n / 1e3)
    else
        return tostring(n)
    end
end

local function easeOutQuad(t) return 1 - (1 - t)^2 end

-- Optimized animation queue
local AnimateQueue = {}
local function animateNumber(label, startValue, endValue, prefix, emoji, duration)
    duration = duration or 0.5
    if AnimateQueue[label] then
        AnimateQueue[label].target = endValue
        return
    end
    AnimateQueue[label] = {current=startValue, target=endValue, prefix=prefix, emoji=emoji, duration=duration, elapsed=0}
end

RunService.Heartbeat:Connect(function(dt)
    for label,data in pairs(AnimateQueue) do
        data.elapsed = data.elapsed + dt
        local t = math.min(1, data.elapsed/data.duration)
        local val = data.current + (data.target - data.current) * easeOutQuad(t)
        if label and label.Set then
            label:Set(data.prefix..abbreviate(math.floor(val)).." "..data.emoji)
        end
        if t >= 1 then
            data.current = data.target
            AnimateQueue[label] = nil
        end
    end
end)

-------------------------------------------------
-- MAPS
-------------------------------------------------
local ClassMap = {
    [1]="Fighter ðŸ¥Š",[2]="Shinobi ðŸŒ€",[3]="Pirate â˜ ï¸",[4]="Ghoul ðŸ‘»",[5]="Hero ðŸ¦¸",
    [6]="Reaper â˜ ï¸",[7]="Saiyan ðŸ’¥",[8]="Sin ðŸ˜ˆ",[9]="Magi ðŸ§™",[10]="Akuma ðŸ˜¡",
    [11]="Yonko ðŸ´â€â˜ ï¸",[12]="Gorosei ðŸ§“",[13]="Overlord ðŸ‘‘",[14]="Hokage ðŸ¦Š",
    [15]="Kaioshin ðŸ‘¼",[16]="Sage ðŸ•Šï¸",[17]="Espada âš”ï¸",[18]="Shinigami ðŸ‘¹",
    [19]="Hashira âš”ï¸",[20]="Hakaishin ðŸ’€",[21]="Otsutsuki ðŸŒŒ",
    [22]="Pirate King ðŸ´â€â˜ ï¸ðŸ‘‘",[23]="Kishin ðŸ‘¿",[24]="Angel ðŸ˜‡",
    [25]="Demon King ðŸ‘¹",[26]="Ultra Instinct âœ¨",[27]="Upper Moon ðŸŒ™"
}

local StatMap = {
    ["1"]={"Strength","ðŸ’ª"},["2"]={"Durability","ðŸ›¡ï¸"},["3"]={"Chakra","ðŸŒ€"},
    ["4"]={"Sword","ðŸ—¡ï¸"},["5"]={"Agility","â˜ï¸"},["6"]={"Speed","ðŸ’¨"},["Kill"]={"Kill","ðŸ”ª"},
}

-------------------------------------------------
-- ZONE POSITIONS
-------------------------------------------------
local ZonePositions = {
    Strength = {
        ["100"] = Vector3.new(-1.902,65.000,127.968), ["10K"] = Vector3.new(1341.747,153.963,-137.436),
        ["100K"] = Vector3.new(-1238.425,59.000,476.596), ["1M"] = Vector3.new(-915.294,83.520,166.473),
        ["10M"] = Vector3.new(-2305.319,617.492,527.046), ["100M"] = Vector3.new(-39.747,64.289,-1307.120),
        ["1B"] = Vector3.new(718.492,151.251,924.886), ["100B"] = Vector3.new(1846.949,141.200,92.585),
        ["5T"] = Vector3.new(626.400,696.623,429.320), ["250T"] = Vector3.new(4340.031,60.000,-631.732),
        ["150Qd"] = Vector3.new(812.393,207.000,-1001.867), ["25Qn"] = Vector3.new(3873.903,136.015,890.458),
        ["10Sx"] = Vector3.new(3869.009,1110.712,-1254.075),
    },
    Durability = {
        ["100"] = Vector3.new(112.002,56.026,881.742), ["10K"] = Vector3.new(-1606.842,61.615,-541.502),
        ["100K"] = Vector3.new(-72.535,61.008,2055.987), ["1M"] = Vector3.new(-619.584,179.000,731.073),
        ["10M"] = Vector3.new(-1119.864,212.630,-949.097), ["100M"] = Vector3.new(-338.338,72.620,-1651.415),
        ["1B"] = Vector3.new(2495.594,1543.135,-383.322), ["100B"] = Vector3.new(-2678.021,-229.855,358.415),
        ["5T"] = Vector3.new(2175.640,519.579,571.121), ["250T"] = Vector3.new(1669.455,432.897,-1345.698),
        ["150Qd"] = Vector3.new(194.019,773.591,-701.855), ["25Qn"] = Vector3.new(2564.930,91.790,1756.254),
        ["10Sx"] = Vector3.new(1718.871,2305.067,-22.188),
    },
    Chakra = {
        ["100"] = Vector3.new(-6.479,65.000,-119.760), ["10K"] = Vector3.new(1425.668,147.000,-581.487),
        ["100K"] = Vector3.new(915.292,141.000,783.253), ["1M"] = Vector3.new(1628.384,388.750,591.066),
        ["10M"] = Vector3.new(336.626,-156.000,-1802.547), ["100M"] = Vector3.new(1027.624,251.000,-630.809),
        ["1B"] = Vector3.new(3053.817,110.900,1105.384), ["100B"] = Vector3.new(1663.124,556.154,1779.387),
        ["5T"] = Vector3.new(-6.211,101.133,-480.247), ["250T"] = Vector3.new(-402.687,1252.990,668.177),
        ["150Qd"] = Vector3.new(-768.222,2792.676,591.147), ["25Qn"] = Vector3.new(3226.973,-440.978,-244.406),
        ["10Sx"] = Vector3.new(337.880,61.008,1917.442),
    },
    Agility = {
        ["100"] = Vector3.new(41.676,69.183,453.424), ["10K"] = Vector3.new(-424.448,121.923,-78.950),
        ["100K"] = Vector3.new(3482.918,60.000,130.891), ["5M"] = Vector3.new(4111.682,60.922,844.187),
    },
    Speed = {
        ["100"] = Vector3.new(-109.675,61.000,-508.852), ["10K"] = Vector3.new(-424.448,121.923,-78.950),
        ["100K"] = Vector3.new(3482.918,60.000,130.891), ["5M"] = Vector3.new(4111.682,60.922,844.187),
    },
    Sword = {},
}

-------------------------------------------------
-- INFO TAB
-------------------------------------------------
local InfoTab = Window:CreateTab("Info ðŸ› ï¸")

InfoTab:CreateSection("Update Log ðŸ“")
InfoTab:CreateParagraph({Title = VERSION, Content = [[
â€¢ Updated Auto Farm section,
â€¢ Added Misc tab,
â€¢ Added Auto Teleport,
â€¢ Imrpoved Performance,
â€¢ Stay tuned for Auto Quests!
]]})

InfoTab:CreateSection("Discord ðŸ’¬")
InfoTab:CreateParagraph({Title = "Dear "..Player.DisplayName..",", Content = [[
Thank you for using Murzzhub!
I appreciate every second of you using my script!
If you have any suggestions, or want to see sneak peeks,
Join the discord! (None for now srry!)
]]})

InfoTab:CreateButton({Name = "Join The Discord!", Callback = function() setclipboard("No Discord For Now Sorry :(") end})

-------------------------------------------------
-- HOME TAB
-------------------------------------------------
local HomeTab = Window:CreateTab("Home ðŸ ")
HomeTab:CreateSection("Player Data ðŸ‘¤")

local ClassLabel = HomeTab:CreateLabel("Class: ...")
local PowerLabel = HomeTab:CreateLabel("Total Power: ... âš¡")
local YenLabel = HomeTab:CreateLabel("Money: ... ðŸ’°")
local ChikaraLabel = HomeTab:CreateLabel("Chikara: ... ðŸ’Ž")

local function bindValue(obj, label, prefix, emoji)
    if not obj or not label then return end
    local current = obj.Value
    local function update()
        local newVal = obj.Value
        task.spawn(function() animateNumber(label, current, newVal, prefix, emoji, 0.7) current=newVal end)
    end
    update()
    obj:GetPropertyChangedSignal("Value"):Connect(update)
end

bindValue(OtherData:FindFirstChild("TotalPower"), PowerLabel, "Total Power: ", "âš¡")
bindValue(OtherData:FindFirstChild("Yen"), YenLabel, "Money: ", "ðŸ’°")
bindValue(OtherData:FindFirstChild("Chikara"), ChikaraLabel, "Chikara: ", "ðŸ’Ž")

if OtherData:FindFirstChild("Class") then
    local function update()
        ClassLabel:Set("Class: "..(ClassMap[OtherData.Class.Value] or "Unknown â“"))
    end
    update()
    OtherData.Class:GetPropertyChangedSignal("Value"):Connect(update)
end

-------------------------------------------------
-- LIVE STATS
-------------------------------------------------
HomeTab:CreateSection("Live Stats ðŸ“Š")

local OrderedStats = {
    {id="1", name="Strength", emoji="ðŸ’ª"},
    {id="2", name="Durability", emoji="ðŸ›¡ï¸"},
    {id="3", name="Chakra", emoji="ðŸŒ€"},
    {id="4", name="Sword", emoji="âš”ï¸"},
    {id="6", name="Speed", emoji="ðŸ’¨"},
    {id="5", name="Agility", emoji="â˜ï¸"},
}

for _, data in ipairs(OrderedStats) do
    local stat = StatsFolder:FindFirstChild(data.id)
    if stat then
        local current = stat.Value
        local label = HomeTab:CreateLabel(data.name..": ... "..data.emoji)
        local function update()
            local newVal = stat.Value
            task.spawn(function() animateNumber(label, current, newVal, data.name..": ", data.emoji, 0.7) current=newVal end)
        end
        update()
        stat:GetPropertyChangedSignal("Value"):Connect(update)
    end
end

-------------------------------------------------
-- QUESTS TAB HELPERS
-------------------------------------------------
local StatMap = {
    ["1"] = {"Strength","ðŸ’ª","1"},
    ["2"] = {"Durability","ðŸ›¡ï¸","2"},
    ["3"] = {"Chakra","ðŸŒ€","3"},
    ["4"] = {"Sword","ðŸ—¡ï¸","4"},
    ["5"] = {"Agility","â˜ï¸","5"},
    ["6"] = {"Speed","ðŸ’¨","6"},
}

local function easeOutQuad(t) return 1 - (1 - t)*(1 - t) end

-------------------------------------------------
-- QUESTS TAB
-------------------------------------------------
local QuestsTab = Window:CreateTab("Quests ðŸ“œ")

-- Setup single quest
local function setupQuest(quest)
    safeRun(function()
        local display = quest.Name:gsub("(%a+)(%d+)", "%1 No.%2")
        QuestsTab:CreateSection(display.." ðŸ“œ")

        local reqs = quest:FindFirstChild("Requirements")
        if not reqs then return end

        for _, req in ipairs(reqs:GetChildren() or {}) do
            if req:IsA("IntValue") or req:IsA("NumberValue") then
                local name, emoji = StatMap[req.Name] and StatMap[req.Name][1] or req.Name,
                                    StatMap[req.Name] and StatMap[req.Name][2] or ""

                local label = QuestsTab:CreateLabel(string.format("0/%s %s %s", abbreviate(req.Value), name, emoji))
                local current = 0

                local function update()
                    local progress = 0
                    if quest:FindFirstChild(req.Name) then
                        progress = quest[req.Name].Value
                    elseif quest:FindFirstChild("Progress") and quest.Progress:FindFirstChild(req.Name) then
                        progress = quest.Progress[req.Name].Value
                    end
                    local done = progress >= req.Value

                    task.spawn(function()
                        local steps = 30
                        local duration = 0.7
                        for i = 1, steps do
                            local t = easeOutQuad(i/steps)
                            local val = current + (progress - current) * t
                            label:Set(string.format("%s/%s %s %s%s",
                                abbreviate(math.floor(val)), abbreviate(req.Value), name, emoji, done and " âœ…" or ""))
                            task.wait(duration/steps)
                        end
                        label:Set(string.format("%s/%s %s %s%s",
                            abbreviate(progress), abbreviate(req.Value), name, emoji, done and " âœ…" or ""))
                        current = progress
                    end)
                end

                update()

                if quest:FindFirstChild(req.Name) then
                    quest[req.Name]:GetPropertyChangedSignal("Value"):Connect(update)
                end
                if quest:FindFirstChild("Progress") and quest.Progress:FindFirstChild(req.Name) then
                    quest.Progress[req.Name]:GetPropertyChangedSignal("Value"):Connect(update)
                end
            end
        end
    end)
end

-- Setup all quests
for _, q in ipairs(QuestsFolder:GetChildren() or {}) do
    if q:IsA("Folder") then setupQuest(q) end
end
-------------------------------------------------
-- AUTO FARMS TAB
-------------------------------------------------
local AutoTab = Window:CreateTab("Auto Farms ðŸŒ¾")

-- Auto Train Section
AutoTab:CreateSection("Auto Train ðŸ‹ï¸")

local mainClient = Player:WaitForChild("PlayerGui"):WaitForChild("Main"):WaitForChild("MainClient")
local StatFunctions = require(mainClient:WaitForChild("StatFunctions"))
local CharacterModule
repeat CharacterModule = StatFunctions.characterModule task.wait(0.1) until CharacterModule

local GameData = require(ReplicatedStorage:WaitForChild("Modules"):WaitForChild("GameData"))

local AutoStats = {
    {1,"Strength","ðŸ’ª"},{2,"Durability","ðŸ›¡ï¸"},{3,"Chakra","ðŸŒ€"},
    {4,"Sword","ðŸ—¡ï¸"},{5,"Agility","â˜ï¸"},{6,"Speed","ðŸ’¨"},
}

local ActiveTrains = {}
local LastFire = {}

for _,stat in ipairs(AutoStats) do
    local statID, name, emoji = unpack(stat)
    AutoTab:CreateToggle({
        Name = "Train "..name.." "..emoji,
        CurrentValue = false,
        Flag = name.."Toggle",
        Callback = function(val)
            if val then
                if ActiveTrains[statID] then return end
                ActiveTrains[statID] = true
                LastFire[statID] = 0
                task.spawn(function()
                    while ActiveTrains[statID] do
                        if CharacterModule.states.Dead then task.wait(1)
                        else
                            CharacterModule.characterStopped = false
                            CharacterModule:ResumeCharacter()
                            StatFunctions.CurrentKey = statID
                            StatFunctions[statID] = false

                            local cooldown = GameData.Stats[statID].Cooldown or 0.1
                            local now = tick()
                            if now - LastFire[statID] >= cooldown then
                                local success, err = pcall(function()
                                    ReplicatedStorage.Remotes.RemoteEvent:FireServer("Train", statID)
                                end)
                                if success then log("TrainStat fired for "..name) else log("TrainStat error: "..tostring(err)) end
                                LastFire[statID] = tick()
                            end
                            task.wait(0.05)
                        end
                    end
                    ActiveTrains[statID] = nil
                end)
            else ActiveTrains[statID] = false end
        end
    })
end

-- Auto Chikara Section
AutoTab:CreateSection("Auto Resource âš ï¸ | AUTOCLICKER NEEDED")
local AutoChikaraActive = false

AutoTab:CreateToggle({
    Name = "Collect Chikara ðŸ’Ž",
    CurrentValue = false,
    Flag = "AutoChikaraToggle",
    Callback = function(val)
        AutoChikaraActive = val
        if val then
            task.spawn(function()
                local lastCollected = {}
                while AutoChikaraActive do
                    local cratesFolder = workspace:FindFirstChild("Scriptable") and workspace.Scriptable:FindFirstChild("ChikaraBoxes")
                    if cratesFolder then
                        local crates = cratesFolder:GetChildren()
                        local hasCollected = false
                        for _, crate in ipairs(crates) do
                            if not AutoChikaraActive then break end
                            local clickBox = crate:FindFirstChild("ClickBox")
                            if clickBox then
                                local clickDetector = clickBox:FindFirstChildWhichIsA("ClickDetector")
                                local now = tick()
                                if clickDetector and (not lastCollected[crate] or now - lastCollected[crate] >= 10) then
                                    if Player.Character and Player.Character.PrimaryPart then
                                        Player.Character:SetPrimaryPartCFrame(crate.CFrame + Vector3.new(0,3,0))
                                    end
                                    task.wait(0.1)
                                    pcall(function() clickDetector:FireClick(Player) end)
                                    lastCollected[crate] = tick()
                                    hasCollected = true
                                    log("[AutoChikara] Collected crate")
                                    task.wait(10)
                                end
                            end
                        end
                        if not hasCollected then task.wait(1) end
                    else task.wait(1) end
                end
                log("Auto Chikara OFF")
            end)
        else log("Auto Chikara OFF") end
    end
})

-------------------------------------------------
-- AUTO FRUITS SECTION FIXED
-------------------------------------------------
local selectedFruits = {}
local farmFruitsToggle = false
local Stock = true
local notifiedNoFruits = false

-- DROPDOWN
local SelectFruitsDropdown = AutoTab:CreateDropdown({
    Name = "Select Fruits ðŸŽ",
    Options = {
        "Rubber Fruit ðŸ‘Š",
        "Thunder Fruit âš¡",
        "Dark Fruit ðŸŒ‘",
        "Quake Fruit ðŸŒŠ",
        "Explosive Fruit ðŸ’¥"
    },
    CurrentOption = {},
    MultipleOptions = true,
    Flag = "SelectedFruits",
    Callback = function(Options)
        selectedFruits = Options or {}
        notifiedNoFruits = false
    end
})

-- TOGGLE
local FarmFruitsToggle = AutoTab:CreateToggle({
    Name = "Farm Fruits ðŸ§º",
    Flag = "FarmFruits",
    CurrentValue = false,
    Callback = function(state)
        farmFruitsToggle = state
        notifiedNoFruits = false

        if not next(selectedFruits) then
            Rayfield:Notify({
                Title = "Auto Fruits",
                Content = "You haven't selected any fruits yet!",
                Duration = 5,
                Image = "bell-ring"
            })
            farmFruitsToggle = false
        end
    end
})

-- AUTO FRUITS LOOP
task.spawn(function()
    while true do
        task.wait(0.5)

        if farmFruitsToggle and next(selectedFruits) then
            local char = Player.Character
            local hrp = char and char:FindFirstChild("HumanoidRootPart")
            if not hrp then continue end  -- skip if HRP missing

            local fruitFolder = workspace:FindFirstChild("Scriptable") and workspace.Scriptable:FindFirstChild("Fruits")
            if not fruitFolder then continue end

            local foundFruit = nil

            for _, fruit in pairs(fruitFolder:GetChildren()) do
                local fruitNameOnly = fruit.Name:gsub(" ðŸ‘Š",""):gsub(" âš¡",""):gsub(" ðŸŒ‘",""):gsub(" ðŸŒŠ",""):gsub(" ðŸ’¥","")
                for _, selected in ipairs(selectedFruits) do
                    local selectedNameOnly = selected:gsub(" ðŸ‘Š",""):gsub(" âš¡",""):gsub(" ðŸŒ‘",""):gsub(" ðŸŒŠ",""):gsub(" ðŸ’¥","")
                    if fruitNameOnly == selectedNameOnly then
                        foundFruit = fruit
                        break
                    end
                end
                if foundFruit then break end
            end

            if foundFruit then
                Stock = true
                notifiedNoFruits = false

                local targetCFrame
                if foundFruit:IsA("BasePart") then
                    targetCFrame = foundFruit.CFrame
                elseif foundFruit:IsA("Model") then
                    targetCFrame = foundFruit.PrimaryPart and foundFruit.PrimaryPart.CFrame
                        or foundFruit:FindFirstChildWhichIsA("BasePart") and foundFruit:FindFirstChildWhichIsA("BasePart").CFrame
                end

                if targetCFrame then
                    hrp.CFrame = targetCFrame + Vector3.new(0,3,0)
                else
                    Rayfield:Notify({
                        Title = "Auto Fruits",
                        Content = "Found fruit, but cannot get CFrame!",
                        Duration = 5,
                        Image = "bell-ring"
                    })
                end

            else
                Stock = false
                if not notifiedNoFruits then
                    notifiedNoFruits = true
                    Rayfield:Notify({
                        Title = "Auto Fruits",
                        Content = "No available fruits of your selection.",
                        Duration = 5,
                        Image = "bell-ring"
                    })
                end
            end
        end
    end
end)

-------------------------------------------------
-- TELEPORTS TAB
-------------------------------------------------
local TeleportsTab = Window:CreateTab("Teleports ðŸ“")
local function getCharacter() return Player.Character or Player.CharacterAdded:Wait() end
local function teleportTo(position)
    local char = getCharacter()
    if char and char.PrimaryPart then
        char:SetPrimaryPartCFrame(CFrame.new(position + Vector3.new(0,5,0)))
    end
end

local function formatNumber(n)
    local absN = math.abs(n)
    if absN >= 1e21 then return string.format("%.0fSx", n/1e21)
    elseif absN >= 1e18 then return string.format("%.0fQn", n/1e18)
    elseif absN >= 1e15 then return string.format("%.0fQd", n/1e15)
    elseif absN >= 1e12 then return string.format("%.0fT", n/1e12)
    elseif absN >= 1e9 then return string.format("%.0fB", n/1e9)
    elseif absN >= 1e6 then return string.format("%.0fM", n/1e6)
    elseif absN >= 1e3 then return string.format("%.0fK", n/1e3)
    else return tostring(n)
    end
end

-- Stats Data
local StatsData = {
    {Name="Strength", SectionEmoji="ðŸ’ª", ButtonEmoji="ðŸ“", StatId="1", Zones={
        {100, Vector3.new(-1.902,65.000,127.968)}, {10000, Vector3.new(1341.747,153.963,-137.436)},
        {100000, Vector3.new(-1238.425,59.000,476.596)}, {1e6, Vector3.new(-915.294,83.520,166.473)},
        {1e7, Vector3.new(-2305.319,617.492,527.046)}, {1e8, Vector3.new(-39.747,64.289,-1307.120)},
        {1e9, Vector3.new(718.492,151.251,924.886)}, {1e11, Vector3.new(1846.949,141.200,92.585)},
        {5e12, Vector3.new(626.400,696.623,429.320)}, {2.5e14, Vector3.new(4340.031,60.000,-631.732)},
        {1.5e17, Vector3.new(812.393,207.000,-1001.867)}, {2.5e19, Vector3.new(3873.903,136.015,890.458)},
        {1e22, Vector3.new(3869.009,1110.712,-1254.075)}
    }},
    {Name="Durability", SectionEmoji="ðŸ›¡ï¸", ButtonEmoji="ðŸ“", StatId="2", Zones={
        {100, Vector3.new(112.002,56.026,881.742)}, {10000, Vector3.new(-1606.842,61.615,-541.502)},
        {100000, Vector3.new(-72.535,61.008,2055.987)}, {1e6, Vector3.new(-619.584,179.000,731.073)},
        {1e7, Vector3.new(-1119.864,212.630,-949.097)}, {1e8, Vector3.new(-338.338,72.620,-1651.415)},
        {1e9, Vector3.new(2495.594,1543.135,-383.322)}, {1e11, Vector3.new(-2678.021,-229.855,358.415)},
        {5e12, Vector3.new(2175.640,519.579,571.121)}, {2.5e14, Vector3.new(1669.455,432.897,-1345.698)},
        {1.5e17, Vector3.new(194.019,773.591,-701.855)}, {2.5e19, Vector3.new(2564.930,91.790,1756.254)},
        {1e22, Vector3.new(1718.871,2305.067,-22.188)}
    }},
    {Name="Chakra", SectionEmoji="ðŸŒ€", ButtonEmoji="ðŸ“", StatId="3", Zones={
        {100, Vector3.new(-6.479,65.000,-119.760)}, {10000, Vector3.new(1425.668,147.000,-581.487)},
        {100000, Vector3.new(915.292,141.000,783.253)}, {1e6, Vector3.new(1628.384,388.750,591.066)},
        {1e7, Vector3.new(336.626,-156.000,-1802.547)}, {1e8, Vector3.new(1027.624,251.000,-630.809)},
        {1e9, Vector3.new(3053.817,110.900,1105.384)}, {1e11, Vector3.new(1663.124,556.154,1779.387)},
        {5e12, Vector3.new(-6.211,101.133,-480.247)}, {2.5e14, Vector3.new(-402.687,1252.990,668.177)},
        {1.5e17, Vector3.new(-768.222,2792.676,591.147)}, {2.5e19, Vector3.new(3226.973,-440.978,-244.406)},
        {1e22, Vector3.new(337.880,61.008,1917.442)}
    }},
    {Name="Agility", SectionEmoji="â˜ï¸", ButtonEmoji="ðŸ“", StatId="5", Zones={
        {100, Vector3.new(41.676,69.183,453.424)}, {10000, Vector3.new(-424.448,121.923,-78.950)},
        {100000, Vector3.new(3482.918,60.000,130.891)}, {5e6, Vector3.new(4111.682,60.922,844.187)}
    }},
    {Name="Speed", SectionEmoji="ðŸ’¨", ButtonEmoji="ðŸ“", StatId="6", Zones={
        {100, Vector3.new(-109.675,61.000,-508.852)}, {10000, Vector3.new(-424.448,121.923,-78.950)},
        {100000, Vector3.new(3482.918,60.000,130.891)}, {5e6, Vector3.new(4111.682,60.922,844.187)}
    }},
}

-- Best Stat Zones Section
TeleportsTab:CreateSection("Best Stat Zones ðŸ“Š")
for _, stat in ipairs(StatsData) do
    local playerStat = Player.Stats:FindFirstChild(stat.StatId)
    local currentZone
    local function updateZone()
        if playerStat then
            local value = playerStat.Value
            currentZone = nil
            for _, z in ipairs(stat.Zones) do
                if value >= z[1] then currentZone = z[2] end
            end
        end
    end
    updateZone()
    if playerStat then playerStat:GetPropertyChangedSignal("Value"):Connect(updateZone) end
    TeleportsTab:CreateButton({
        Name = stat.Name.." "..stat.SectionEmoji,
        Callback = function() if currentZone then teleportTo(currentZone) end end
    })
end

-- Regular Stat Teleports
for _, stat in ipairs(StatsData) do
    local section = TeleportsTab:CreateSection(stat.Name.." "..stat.SectionEmoji)
    for _, zone in ipairs(stat.Zones) do
        local label = formatNumber(zone[1]).." "..stat.Name.." "..stat.ButtonEmoji
        TeleportsTab:CreateButton({
            Name = label,
            Callback = function() teleportTo(zone[2]) end
        })
    end
end

-------------------------------------------------
-- MISC TAB
-------------------------------------------------
local MiscTab = Window:CreateTab("Misc âš™ï¸") -- ensure tab exists

-- Quality Of Life Section
MiscTab:CreateSection("Quality Of Life âœ¨")

-- Save Position Button
MiscTab:CreateButton({
    Name = "Save Position ðŸ“Œ",
    Callback = function()
        if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
            _G.SavedPosition = Player.Character.HumanoidRootPart.Position
            Rayfield:Notify({
                Title = "Misc âš™ï¸ -> Quality Of Life âœ¨",
                Content = "Position saved successfully!",
                Duration = 3,
                Image = "bell-ring"
            })
        end
    end
})

-- Teleport To Position Button
MiscTab:CreateButton({
    Name = "Teleport to Position ðŸ“",
    Callback = function()
        if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") and _G.SavedPosition then
            Player.Character.HumanoidRootPart.CFrame = CFrame.new(_G.SavedPosition + Vector3.new(0,5,0))
            Rayfield:Notify({
                Title = "Misc âš™ï¸ -> Quality Of Life âœ¨",
                Content = "Teleported to saved position!",
                Duration = 3,
                Image = "bell-ring"
            })
        else
            Rayfield:Notify({
                Title = "Misc âš™ï¸ -> Quality Of Life âœ¨",
                Content = "No saved position found!",
                Duration = 3,
                Image = "bell-ring"
            })
        end
    end
})

-- Spawn At Position Toggle
local spawnAtPosition = false
MiscTab:CreateToggle({
    Name = "Spawn At Position ðŸš€",
    CurrentValue = false,
    Flag = "SpawnAtPosition",
    Callback = function(state)
        spawnAtPosition = state
    end
})

-- Teleport once after respawn
Player.CharacterAdded:Connect(function(char)
    if spawnAtPosition and _G.SavedPosition then
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(_G.SavedPosition + Vector3.new(0,5,0))
    end
end)

-------------------------------------------------
-- CODES SECTIONS
-------------------------------------------------

-- =======================
-- YEN SECTION
-- =======================
MiscTab:CreateSection("Yen ðŸ’°")
local YenEmoji = "ðŸ’µ"
local YenCodes = {
    {Code="SecretCode", Reward="50,000 Yen"},
    {Code="10kVisits", Reward="5,000 Yen"},
    {Code="ChristmasDelay", Reward="5,000 Yen"},
    {Code="Gullible67", Reward="1 Yen"},
}

for _, entry in ipairs(YenCodes) do
    MiscTab:CreateButton({
        Name = entry.Reward.." "..YenEmoji,
        Callback = function()
            setclipboard(entry.Code)
            Rayfield:Notify({
                Title = "Misc âš™ï¸ -> Yen ðŸ’°",
                Content = "Copied "..entry.Code.." to clipboard!",
                Duration = 3,
                Image = "bell-ring"
            })
        end
    })
end

-- =======================
-- CHIKARA SECTION
-- =======================
MiscTab:CreateSection("Chikara ðŸ’")
local ChikaraEmoji = "ðŸ’Ž"
local ChikaraCodes = {
    {Code="Krampus", Reward="500,000 Chikara"},
    {Code="SecretCode", Reward="50,000 Chikara"},
    {Code="10kLikes", Reward="50,000 Chikara"},
    {Code="1MVisits", Reward="50,000 Chikara"},
    {Code="MobsUpdate", Reward="75,000 Chikara"},
    {Code="1WeekAnniversary", Reward="75,000 Chikara"},
    {Code="100Favs", Reward="75,000 Chikara"},
    {Code="FreeChikara3", Reward="10,000 Chikara"},
    {Code="FreeChikara2", Reward="10,000 Chikara"},
    {Code="FreeChikara", Reward="5,000 Chikara"},
}

for _, entry in ipairs(ChikaraCodes) do
    MiscTab:CreateButton({
        Name = entry.Reward.." "..ChikaraEmoji,
        Callback = function()
            setclipboard(entry.Code)
            Rayfield:Notify({
                Title = "Misc âš™ï¸ -> Chikara ðŸ’",
                Content = "Copied "..entry.Code.." to clipboard!",
                Duration = 3,
                Image = "bell-ring"
            })
        end
    })
end

-- =======================
-- BOOSTS SECTION
-- =======================
MiscTab:CreateSection("Boosts âš¡")
local BoostEmoji = "â±ï¸"
local BoostCodes = {
    {Code="100CCU", Reward="1 Day Boost"},
    {Code="100kVisits", Reward="1 Day Boost"},
    {Code="400CCU", Reward="1 Day Boost"},
    {Code="50Likes", Reward="1 Hour Boost"},
}

for _, entry in ipairs(BoostCodes) do
    MiscTab:CreateButton({
        Name = entry.Reward.." "..BoostEmoji,
        Callback = function()
            setclipboard(entry.Code)
            Rayfield:Notify({
                Title = "Misc âš™ï¸ -> Boosts âš¡",
                Content = "Copied "..entry.Code.." to clipboard!",
                Duration = 3,
                Image = "bell-ring"
            })
        end
    })
end
