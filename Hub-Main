-- MurzzHub v1.0j Beta
-- Info + Home tabs with Player Data + Live Stats (AFSE-safe)
-- Author: Murzay

-------------------------------------------------
-- SERVICES
-------------------------------------------------
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Player = Players.LocalPlayer

-------------------------------------------------
-- WAIT FOR DATA
-------------------------------------------------
local OtherData   = Player:WaitForChild("OtherData")
local StatsFolder = Player:WaitForChild("Stats")

-------------------------------------------------
-- RAYFIELD
-------------------------------------------------
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local VERSION = "v1.0j Beta"

local Window = Rayfield:CreateWindow({
    Name = "MurzzHub "..VERSION,
    LoadingTitle = "MurzzHub "..VERSION,
    LoadingSubtitle = VERSION.." - Player Data + Live Stats",
    ConfigurationSaving = { Enabled = false },
    KeySystem = false
})

-------------------------------------------------
-- CLASS MAP
-------------------------------------------------
local ClassMap = {
    [1]="Fighter ğŸ¥Š",[2]="Shinobi ğŸŒ€",[3]="Pirate â˜ ï¸",[4]="Ghoul ğŸ‘»",[5]="Hero ğŸ¦¸",
    [6]="Reaper â˜ ï¸",[7]="Saiyan ğŸ’¥",[8]="Sin ğŸ˜ˆ",[9]="Magi ğŸ§™",[10]="Akuma ğŸ˜¡",
    [11]="Yonko ğŸ´â€â˜ ï¸",[12]="Gorosei ğŸ§“",[13]="Overlord ğŸ‘‘",[14]="Hokage ğŸ¦Š",
    [15]="Kaioshin ğŸ‘¼",[16]="Sage ğŸ•Šï¸",[17]="Espada âš”ï¸",[18]="Shinigami ğŸ‘¹",
    [19]="Hashira âš”ï¸",[20]="Hakaishin ğŸ’€",[21]="Otsutsuki ğŸŒŒ",
    [22]="Pirate King ğŸ´â€â˜ ï¸ğŸ‘‘",[23]="Kishin ğŸ‘¿",[24]="Angel ğŸ˜‡",
    [25]="Demon King ğŸ‘¹",[26]="Ultra Instinct âœ¨",[27]="Upper Moon ğŸŒ™"
}

-------------------------------------------------
-- UTIL
-------------------------------------------------
local function abbreviateNumber(num)
    num = tonumber(num) or 0
    if num >= 1e12 then return string.format("%.2fT", num/1e12)
    elseif num >= 1e9 then return string.format("%.2fB", num/1e9)
    elseif num >= 1e6 then return string.format("%.2fM", num/1e6)
    elseif num >= 1e3 then return string.format("%.2fK", num/1e3)
    else return tostring(num) end
end

-------------------------------------------------
-- INFO TAB
-------------------------------------------------
local InfoTab = Window:CreateTab("Info ğŸ› ï¸")
InfoTab:CreateSection("Update Log ğŸ“")
InfoTab:CreateParagraph({
    Title = "Update Log "..VERSION,
    Content = "Stable version: Player Data + Live Stats functional."
})
InfoTab:CreateSection("Discord ğŸ’¬")
InfoTab:CreateParagraph({
    Title = "Dear @"..Player.DisplayName,
    Content =
        "Thank you for using my script!\n\n"..
        "Every use supports me and motivates future updates.\n"..
        "Join the Discord for sneak peeks, events and more!\n\n"..
        "â¤ï¸ - Murzay (Scripter)"
})
InfoTab:CreateButton({
    Name = "Join The Discord Server!",
    Callback = function()
        setclipboard("DISCORD_LINK_HERE")
    end
})

-------------------------------------------------
-- HOME TAB
-------------------------------------------------
local HomeTab = Window:CreateTab("Home ğŸ ")

-- Player Data Section
HomeTab:CreateSection("Player Data ğŸ‘¤")
local ClassLabel   = HomeTab:CreateLabel("Class: ...")
local PowerLabel   = HomeTab:CreateLabel("Total Power: ... âš¡")
local YenLabel     = HomeTab:CreateLabel("Money: ... ğŸ’°")
local ChikaraLabel = HomeTab:CreateLabel("Chikara: ... ğŸ’")

-- Live Stats Section
HomeTab:CreateSection("Live Stats ğŸ“Š")
local StatMap = {
    ["1"] = "Strength ğŸ’ª",
    ["2"] = "Durability ğŸ›¡ï¸",
    ["3"] = "Chakra ğŸŒ€",
    ["4"] = "Sword ğŸ—¡ï¸",
    ["5"] = "Agility â˜ï¸",
    ["6"] = "Speed ğŸ’¨"
}
local StatLabels = {}
for id,name in pairs(StatMap) do
    StatLabels[id] = HomeTab:CreateLabel(name .. ": ...")
end

-------------------------------------------------
-- LIVE UPDATES (PLAYER DATA + STATS)
-------------------------------------------------
RunService.Heartbeat:Connect(function()
    -- Player Data
    if Player.OtherData:FindFirstChild("Class") then
        ClassLabel.Text = "Class: "..(ClassMap[Player.OtherData.Class.Value] or "Unknown â“")
    end
    if Player.OtherData:FindFirstChild("TotalPower") then
        PowerLabel.Text = "Total Power: "..abbreviateNumber(Player.OtherData.TotalPower.Value).." âš¡"
    end
    if Player.OtherData:FindFirstChild("Yen") then
        YenLabel.Text = "Money: "..abbreviateNumber(Player.OtherData.Yen.Value).." ğŸ’°"
    end
    if Player.OtherData:FindFirstChild("Chikara") then
        ChikaraLabel.Text = "Chikara: "..abbreviateNumber(Player.OtherData.Chikara.Value).." ğŸ’"
    end

    -- Live Stats
    for id,label in pairs(StatLabels) do
        local stat = Player.Stats:FindFirstChild(id)
        if stat and stat:IsA("IntValue") then
            label.Text = StatMap[id] .. ": " .. abbreviateNumber(stat.Value)
        end
    end
end)

-------------------------------------------------
-- LOAD CONFIG
-------------------------------------------------
Rayfield:LoadConfiguration()
print("[MurzzHub] Info + Home tabs (Player Data + Live Stats) fully functional")
