-- Services
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Load Rayfield
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

-- ========================
-- Main Window (with loading screen)
-- ========================
local Window = Rayfield:CreateWindow({
    Name = "MurzzHub v1.0",
    LoadingTitle = "MurzzHub v1.0",         -- This appears as the mini loading section
    LoadingSubtitle = "Auto Train ‚Ä¢ Teleports", -- Subtitle under the loading title
    ConfigurationSaving = { Enabled = false },
    KeySystem = false
})

-- ========================
-- Home Tab
-- ========================
local HomeTab = Window:CreateTab("Home üè†")

-- Player Data Section
HomeTab:CreateSection("Player Data üë§")

local ClassLabel = HomeTab:CreateLabel("Class: Loading üèÜ")
local TotalPowerLabel = HomeTab:CreateLabel("Total Power: Loading ‚ö°Ô∏è")
local YenLabel = HomeTab:CreateLabel("Yen: ¬•1000") -- changed to put symbol in front
local ChakraLabel = HomeTab:CreateLabel("Chakra: 1000 üíé") -- static placeholder

-- Live Stats Section
HomeTab:CreateSection("Live Stats üìä")

local StatEmojis = {
    Strength = "üí™",
    Durability = "üõ°Ô∏è",
    Chakra = "üåÄ",
    Sword = "üó°Ô∏è",
    Agility = "‚òÅÔ∏è",
    Speed = "üí®"
}

local liveStats = {}
for statName, emoji in pairs(StatEmojis) do
    liveStats[statName] = HomeTab:CreateLabel(statName..": Loading "..emoji)
end

local StatMap = {
    Strength = "1",
    Durability = "2",
    Chakra = "3",
    Sword = "4",
    Agility = "5",
    Speed = "6"
}

-- Classes mapping
local ClassMap = {
    [1] = "Fighter ü•ä",
    [2] = "Shinobi ü•∑",
    [3] = "Pirate ‚ò†Ô∏è",
    [4] = "Ghoul üëπ",
    [5] = "Hero ü¶∏",
    [6] = "Reaper ‚ö∞Ô∏è",
    [7] = "Saiyan üí•",
    [8] = "Sin üòà",
    [9] = "Magi üßô",
    [10] = "Akuma üëø",
    [11] = "Yonko üëë",
    [12] = "Gorosei üë¥",
    [13] = "Overlord üè∞",
    [14] = "Hokage üî•",
    [15] = "Kaioshin ‚ú®",
    [16] = "Sage üçÉ",
    [17] = "Espada ‚öîÔ∏è",
    [18] = "Shinigami ‚ö∞Ô∏è",
    [19] = "Hashira üó°Ô∏è",
    [20] = "Hakaishin üí£",
    [21] = "Otsutsuki üåô",
    [22] = "Pirate King üè¥‚Äç‚ò†Ô∏è",
    [23] = "Kishin üë∫",
    [24] = "Angel üòá",
    [25] = "Demon King üëπ",
    [26] = "Ultra Instinct üåÄ‚ú®",
    [27] = "Upper Moon üåôüîù"
}

-- Number Formatter
local function formatNumber(num)
    if not num then return "Loading..." end
    num = tonumber(num)
    if not num then return "Loading..." end

    local formats = {
        {1e18, "Qn"},
        {1e15, "Qd"},
        {1e12, "T"},
        {1e9,  "B"},
        {1e6,  "M"},
        {1e3,  "K"},
    }

    for _, f in ipairs(formats) do
        if num >= f[1] then
            return string.format("%.2f%s", num / f[1], f[2]):gsub("%.00", "")
        end
    end

    return tostring(num)
end

-- Update Loop
task.spawn(function()
    while true do
        -- Stats
        local statsFolder = player:FindFirstChild("Stats")
        if statsFolder then
            for statName, statID in pairs(StatMap) do
                local stat = statsFolder:FindFirstChild(statID)
                local valueText = "Loading"
                if stat and stat.Value ~= nil then
                    valueText = formatNumber(stat.Value)
                end
                liveStats[statName]:Set(statName..": "..valueText.." "..StatEmojis[statName])
            end
        end

        -- Total Power
        local otherData = player:FindFirstChild("OtherData")
        if otherData and otherData:FindFirstChild("TotalPower") then
            TotalPowerLabel:Set("Total Power: "..formatNumber(otherData.TotalPower.Value).." ‚ö°Ô∏è")
        else
            TotalPowerLabel:Set("Total Power: Loading ‚ö°Ô∏è")
        end

        -- Class
        if otherData and otherData:FindFirstChild("Class") then
            local classID = otherData.Class.Value
            local className = ClassMap[classID] or "Unknown ‚ùì"
            ClassLabel:Set("Class: "..className)
        else
            ClassLabel:Set("Class: Loading üèÜ")
        end

        task.wait(0.5)
    end
end)

-- Load Configuration
Rayfield:LoadConfiguration()
